@using MeetingSummary.Models;
@{
    ViewBag.Title = "סיכום פגישות";
}

<div class="jumbotron">
    <h2>@ViewBag.Title</h2>
</div>

<div id="meetingsReport">
    @Html.Partial("Meetings")
</div>

@*<div class="row">
    <div class="col-md-4">
        <h2>Getting started</h2>
        <p>
            ASP.NET MVC gives you a powerful, patterns-based way to build dynamic websites that
            enables a clean separation of concerns and gives you full control over markup
            for enjoyable, agile development.
        </p>
        <p><a class="btn btn-default" href="http://go.microsoft.com/fwlink/?LinkId=301865">Learn more &raquo;</a></p>
    </div>
    <div class="col-md-4">
        <h2>Get more libraries</h2>
        <p>NuGet is a free Visual Studio extension that makes it easy to add, remove, and update libraries and tools in Visual Studio projects.</p>
        <p><a class="btn btn-default" href="http://go.microsoft.com/fwlink/?LinkId=301866">Learn more &raquo;</a></p>
    </div>
    <div class="col-md-4">
        <h2>Web Hosting</h2>
        <p>You can easily find a web hosting company that offers the right mix of features and price for your applications.</p>
        <p><a class="btn btn-default" href="http://go.microsoft.com/fwlink/?LinkId=301867">Learn more &raquo;</a></p>
    </div>
</div>*@
@section Scripts
{
    @Styles.Render("~/Content/DataTables/css/jquery.dataTables.min.css")
    @Scripts.Render("~/Content/DataTables/js/jquery.dataTables.min.js")

<script type="text/javascript">
    $(document).ready(function () {
        $('#tblReport').DataTable(
            {
                "processing": "true",
                "stateSave": "true",
                "language": {
                    "url": "/Heb.json"
                },
                "ajax": {
                    "url": "Home/LoadMeetingsReport",
                    "type": "POST"
                },
                "columnDefs": [
                                { "className": "centered", "targets": "_all" }
                ],
                "columns": [
                            {
                                "orderable": false,
                                "data": null,
                                "render": function (date, type, full, meta) {
                                    return '<form action="/ClientTransfer/ClientTransfer" method="POST"><button type="button" class="btn btn-default" aria-label="Left Align"><span class="glyphicon glyphicon-edit" aria-hidden="true"></span></button><input type="hidden" id="id" name="id" value="' + full.Id + '"/></form>'
                                }
                            },
                            { "data": "CreationDate" },
                            { "data": "Summary" }
                ]
            });
    });

    function refreshClientTransferDataTable() {
        var dataTable = $('#tblReport').DataTable();
        dataTable.ajax.reload();
    }
</script>
}
